<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:MauiApp1.ViewModels"
             x:DataType="viewmodels:ProfilePageViewModel"
             x:Class="MauiApp1.ProfilePage"
             Title="Profile Page">
    <ScrollView>
        <VerticalStackLayout Spacing="25" Padding="30">
            
            <!-- Header Section -->
            <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
                <Border Stroke="{StaticResource Primary}"
                        StrokeThickness="2"
                        StrokeShape="RoundRectangle 60"
                        HeightRequest="100"
                        WidthRequest="120"
                        HorizontalOptions="Center">
                    <Image Source="{Binding SelectedProfile.AvatarUrl, TargetNullValue='dotnet_bot.png', FallbackValue='dotnet_bot.png'}"
                           Aspect="AspectFill"
                           HeightRequest="100"
                           WidthRequest="100">
                        <Image.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding ViewImageCommand}" NumberOfTapsRequired="2" />
                        </Image.GestureRecognizers>
                    </Image>
                </Border>
                
                <Label Text="{Binding SelectedProfile.Fullname}"
                       Style="{StaticResource Headline}"
                       TextColor="{StaticResource Primary}" 
                       Padding="10"/>
                
                <Label Text="{Binding SelectedProfile.JobTitle}"
                       FontSize="16"
                       TextColor="{StaticResource Gray500}"
                       HorizontalOptions="Center" 
                       Margin="0,-10,0,0"/>
            </VerticalStackLayout>

            <!-- Details Section -->
            <Border Stroke="{StaticResource Gray200}"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 10"
                    Padding="10"
                    BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Black}}">
                
                <VerticalStackLayout Spacing="15">
                    <Grid RowDefinitions="Auto, Auto" RowSpacing="5">
                        <Label Text="Full Name" TextColor="{StaticResource Gray500}" FontSize="12" />
                        <Entry Grid.Row="1" Text="{Binding SelectedProfile.Fullname}" IsReadOnly="True" />
                    </Grid>

                    <Grid RowDefinitions="Auto, Auto" RowSpacing="5">
                        <Label Text="Email" TextColor="{StaticResource Gray500}" FontSize="12" />
                        <Entry Grid.Row="1" Text="{Binding SelectedProfile.Email}" IsReadOnly="True" />
                    </Grid>

                    <Grid RowDefinitions="Auto, Auto" RowSpacing="5">
                        <Label Text="Phone" TextColor="{StaticResource Gray500}" FontSize="12" />
                        <Entry Grid.Row="1" Text="{Binding SelectedProfile.PhoneNumber}" IsReadOnly="True" />
                    </Grid>

                    <Grid RowDefinitions="Auto, Auto" RowSpacing="5">
                        <Label Text="Address" TextColor="{StaticResource Gray500}" FontSize="12" />
                        <Entry Grid.Row="1" Text="{Binding SelectedProfile.Address}" IsReadOnly="True" />
                    </Grid>

                    <Grid RowDefinitions="Auto, Auto" RowSpacing="5">
                        <Label Text="Date Of Birth" TextColor="{StaticResource Gray500}" FontSize="12" />
                        <Entry Grid.Row="1" Text="{Binding SelectedProfile.DateOfBirth}" IsReadOnly="True" />
                    </Grid>
                </VerticalStackLayout>
            </Border>

            <!-- Action Buttons -->
            <VerticalStackLayout Spacing="10" Margin="0,10,0,0">
                <Button Text="Edit Profile"
                        HorizontalOptions="Fill" />
            </VerticalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>